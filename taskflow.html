<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TaskFlow | Kanban Board</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');

*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:'Poppins',sans-serif;
  background:#f1f5f9;
  color:#1e293b;
  padding:2rem;
}

h1{
  text-align:center;
  margin-bottom:2rem;
  color:#244D61;
}

.board{
  display:flex;
  gap:20px;
  justify-content:center;
  flex-wrap:wrap;
}

.column{
  background:#ffffff;
  width:300px;
  min-height:400px;
  border-radius:12px;
  padding:1rem;
  box-shadow:0 8px 20px rgba(0,0,0,0.05);
  display:flex;
  flex-direction:column;
}

.column h2{
  text-align:center;
  margin-bottom:1rem;
  font-size:1.2rem;
  color:#244D61;
}

.task{
  background:#e2e8f0;
  padding:10px;
  border-radius:8px;
  margin-bottom:10px;
  cursor:grab;
  font-size:0.9rem;
}

.task:active{
  cursor:grabbing;
}

.add-task{
  display:flex;
  justify-content:center;
  margin-bottom:2rem;
}

.add-task input{
  padding:10px;
  width:300px;
  border-radius:8px;
  border:1px solid #cbd5e1;
  outline:none;
}

.add-task button{
  padding:10px 15px;
  margin-left:10px;
  border:none;
  border-radius:8px;
  background:#244D61;
  color:white;
  cursor:pointer;
}

.add-task button:hover{
  opacity:0.9;
}
</style>
</head>

<body>

<h1>TaskFlow â€” Minimal Kanban Board</h1>

<div class="add-task">
  <input type="text" id="taskInput" placeholder="Enter new task...">
  <button onclick="addTask()">Add</button>
</div>

<div class="board">

  <div class="column" ondragover="allowDrop(event)" ondrop="drop(event)" id="todo">
    <h2>To Do</h2>
  </div>

  <div class="column" ondragover="allowDrop(event)" ondrop="drop(event)" id="inprogress">
    <h2>In Progress</h2>
  </div>

  <div class="column" ondragover="allowDrop(event)" ondrop="drop(event)" id="done">
    <h2>Done</h2>
  </div>

</div>

<script>
let draggedTask = null;

function addTask() {
  const input = document.getElementById("taskInput");
  const value = input.value.trim();
  if(!value) return;

  const task = createTaskElement(value);
  document.getElementById("todo").appendChild(task);
  input.value = "";
  saveBoard();
}

function createTaskElement(text){
  const task = document.createElement("div");
  task.className = "task";
  task.draggable = true;
  task.textContent = text;

  task.addEventListener("dragstart", function(){
    draggedTask = task;
  });

  task.addEventListener("dblclick", function(){
    task.remove();
    saveBoard();
  });

  return task;
}

function allowDrop(event){
  event.preventDefault();
}

function drop(event){
  event.preventDefault();
  if(draggedTask){
    event.currentTarget.appendChild(draggedTask);
    saveBoard();
  }
}

function saveBoard(){
  const data = {
    todo: getColumnTasks("todo"),
    inprogress: getColumnTasks("inprogress"),
    done: getColumnTasks("done")
  };
  localStorage.setItem("taskflow-data", JSON.stringify(data));
}

function getColumnTasks(id){
  const column = document.getElementById(id);
  const tasks = column.querySelectorAll(".task");
  return Array.from(tasks).map(task => task.textContent);
}

function loadBoard(){
  const data = JSON.parse(localStorage.getItem("taskflow-data"));
  if(!data) return;

  ["todo","inprogress","done"].forEach(col => {
    data[col].forEach(text => {
      const task = createTaskElement(text);
      document.getElementById(col).appendChild(task);
    });
  });
}

loadBoard();
</script>

</body>
</html>
